[gd_scene load_steps=7 format=3 uid="uid://uxea6six651k"]

[ext_resource type="PackedScene" uid="uid://dgbod0er521or" path="res://systems/dungeon_exploration/maps/node_map.tscn" id="1_gdpmx"]
[ext_resource type="Script" path="res://systems/dungeon_exploration/map_generator.gd" id="2_p054q"]
[ext_resource type="PackedScene" uid="uid://cigk4jsderg20" path="res://systems/dungeon_exploration/nodes/card_loot_node.tscn" id="3_cvrxy"]
[ext_resource type="Script" path="res://systems/dungeon_exploration/nodes/node_generation_options.gd" id="4_yj8qu"]

[sub_resource type="Resource" id="Resource_8sjg3"]
script = ExtResource("4_yj8qu")
chance = 1.0
node_reference = ExtResource("3_cvrxy")
reward_modifier = 1.1
level_modifier = 0.01
max_repeat = 10
min_challenging_nodes = 2

[sub_resource type="GDScript" id="GDScript_u3wik"]
script/source = "extends Node

@export var random_seed := false

func _ready():
	var generator = get_parent()
	if random_seed:
		randomize()
		generator.rng_seed = randi()
		print(\"Using seed \" + str(generator.rng_seed))
	generator.setup()
	generator.generate(30)
"

[node name="node-map" instance=ExtResource("1_gdpmx")]
script = ExtResource("2_p054q")
possible_nodes = Array[ExtResource("4_yj8qu")]([SubResource("Resource_8sjg3")])
rng_seed = 13772
start_node = Object(Control,"_import_path":NodePath(""),"unique_name_in_owner":false,"process_mode":0,"process_priority":0,"process_physics_priority":0,"process_thread_group":0,"editor_description":"","visible":true,"modulate":Color(1, 1, 1, 1),"self_modulate":Color(1, 1, 1, 1),"show_behind_parent":false,"top_level":false,"clip_children":0,"light_mask":1,"visibility_layer":1,"z_index":0,"z_as_relative":true,"y_sort_enabled":false,"texture_filter":0,"texture_repeat":0,"material":null,"use_parent_material":false,"clip_contents":false,"custom_minimum_size":Vector2(0, 0),"layout_direction":0,"layout_mode":1,"anchors_preset":8,"anchor_left":0.5,"anchor_top":0.5,"anchor_right":0.5,"anchor_bottom":0.5,"offset_left":-256.0,"offset_top":413.0,"offset_right":-256.0,"offset_bottom":413.0,"grow_horizontal":2,"grow_vertical":2,"rotation":0.0,"scale":Vector2(1, 1),"pivot_offset":Vector2(0, 0),"size_flags_horizontal":1,"size_flags_vertical":1,"size_flags_stretch_ratio":1.0,"auto_translate":true,"localize_numeral_system":true,"tooltip_text":"","focus_neighbor_left":NodePath(""),"focus_neighbor_top":NodePath(""),"focus_neighbor_right":NodePath(""),"focus_neighbor_bottom":NodePath(""),"focus_next":NodePath(""),"focus_previous":NodePath(""),"focus_mode":0,"mouse_filter":2,"mouse_force_pass_scroll_events":false,"mouse_default_cursor_shape":2,"shortcut_context":null,"theme":null,"theme_type_variation":&"","script":Resource("res://systems/dungeon_exploration/nodes/event_node.gd"),"isCurrent":false,"connectsTo":Array[Resource("res://systems/dungeon_exploration/nodes/event_node.gd")]([]),"connectedFrom":Array[Resource("res://systems/dungeon_exploration/nodes/event_node.gd")]([]),"lookahead":1,"currentLookahead":0,"event":null,"defaultColor":Color(1, 1, 1, 1),"pickedColor":Color(1, 1, 0, 1),"disabledColor":Color(0.364706, 0.364706, 0.364706, 1),"highlightedColor":Color(0, 0, 1, 1),"width":5.0,"dashed_width":12.0,"offset":66.0,"selectable":false,"player":null,"selectedNode":null,"hovering":false,"eventInProgress":false,"passed":false,"seed":0)


[node name="Generator" type="Node" parent="." index="2"]
script = SubResource("GDScript_u3wik")
